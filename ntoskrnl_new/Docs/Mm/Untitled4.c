
Microsoft (R) Windows Debugger Version 6.2.8400.4218 AMD64
Copyright (c) Microsoft Corporation. All rights reserved.

Opened \\.\COM8
Waiting to reconnect...
Connected to Windows Server 2003 3790 x86 compatible target at (Sun May 19 18:21:20.063 2013 (UTC + 2:00)), ptr64 FALSE
Kernel Debugger connection established.
Symbol search path is: srv*http://msdl.microsoft.com/download/symbols
Executable search path is:
Windows Server 2003 Kernel Version 3790 UP Checked x86 compatible
Built by: 20130512-rUNKNOWN
Machine Name:
Kernel base = 0x80400000 PsLoadedModuleList = 0x8058981c
System Uptime: not available
Received Unhandled API 315f
Received Unhandled API 315f
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\ke\i386\cpu.c:494) Supported CPU features : KF_V86_VIS KF_RDTSC KF_CR4 KF_CMOV KF_GLOBAL_PAGE KF_LARGE_PAGE KF_MTRR KF_CMPXCHG8B KF_MMX KF_WORKING_PTE KF_PAT KF_FXSR KF_FAST_SYSCALL KF_XMMI KF_3DNOW  KF_XMMI64  KF_NX_BIT
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\ke\i386\cpu.c:801) Prefetch Cache: 64 bytes	L2 Cache: 524288 bytes	L2 Cache Line: 64 bytes	L2 Cache Associativity: 16
MD Type: 6 Base: 0 Count: 1
MD Type: 5 Base: 1 Count: e
MD Type: 4 Base: f Count: 71
MD Type: 5 Base: 80 Count: 10
MD Type: 8 Base: 90 Count: 8
MD Type: 5 Base: 98 Count: 2
MD Type: 1 Base: 9a Count: 1
MD Type: 11 Base: 9b Count: 2
MD Type: 14 Base: 9d Count: 3
MD Type: 6 Base: a0 Count: 50
MD Type: 16 Base: f0 Count: 10
MD Type: 7 Base: 100 Count: 1f
MD Type: 14 Base: 11f Count: 1
MD Type: 2 Base: 120 Count: e0
MD Type: 5 Base: 200 Count: 100
MD Type: 15 Base: 300 Count: 24
MD Type: 9 Base: 324 Count: 6
MD Type: b Base: 32a Count: d1
MD Type: 14 Base: 3fb Count: 1
MD Type: 2 Base: 3fc Count: 4
MD Type: 9 Base: 400 Count: 1c3
MD Type: a Base: 5c3 Count: e9
MD Type: b Base: 6ac Count: 126
MD Type: 14 Base: 7d2 Count: 31
MD Type: 5 Base: 803 Count: 2f
MD Type: 2 Base: 832 Count: 7cd
MD Type: 16 Base: fff Count: 1
MD Type: 2 Base: 1000 Count: afef
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\mm\ARM3\expool.c:1010) EXPOOL: Pool Tracker Table at: 0xB00F5000 with 0xe01c bytes
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\mm\ARM3\expool.c:1012) EXPOOL: Big Pool Tracker Table at: 0xB0104000 with 0x10000 bytes
Pagefault for Address 80832000, PdeAddress = C0300808 (1), PteAddress = C02020C8
Pagefault for Address 80833000, PdeAddress = C0300808 (1), PteAddress = C02020CC
Pagefault for Address 80834000, PdeAddress = C0300808 (1), PteAddress = C02020D0
Pagefault for Address 80835000, PdeAddress = C0300808 (1), PteAddress = C02020D4
Pagefault for Address 80836000, PdeAddress = C0300808 (1), PteAddress = C02020D8
Pagefault for Address 80837000, PdeAddress = C0300808 (1), PteAddress = C02020DC
Pagefault for Address 80838000, PdeAddress = C0300808 (1), PteAddress = C02020E0
Pagefault for Address 80839000, PdeAddress = C0300808 (1), PteAddress = C02020E4
Pagefault for Address 8083A000, PdeAddress = C0300808 (1), PteAddress = C02020E8
Pagefault for Address 8083B000, PdeAddress = C0300808 (1), PteAddress = C02020EC
Pagefault for Address 8083C000, PdeAddress = C0300808 (1), PteAddress = C02020F0
Pagefault for Address 8083D000, PdeAddress = C0300808 (1), PteAddress = C02020F4
Pagefault for Address 8083E000, PdeAddress = C0300808 (1), PteAddress = C02020F8
Pagefault for Address 8083F000, PdeAddress = C0300808 (1), PteAddress = C02020FC
Pagefault for Address 80840000, PdeAddress = C0300808 (1), PteAddress = C0202100
Pagefault for Address 80841000, PdeAddress = C0300808 (1), PteAddress = C0202104
Pagefault for Address 80842000, PdeAddress = C0300808 (1), PteAddress = C0202108
Pagefault for Address 80843000, PdeAddress = C0300808 (1), PteAddress = C020210C
Pagefault for Address 80844000, PdeAddress = C0300808 (1), PteAddress = C0202110
Pagefault for Address 80845000, PdeAddress = C0300808 (1), PteAddress = C0202114
Pagefault for Address 80846000, PdeAddress = C0300808 (1), PteAddress = C0202118
Pagefault for Address 80847000, PdeAddress = C0300808 (1), PteAddress = C020211C
Pagefault for Address 80848000, PdeAddress = C0300808 (1), PteAddress = C0202120
Pagefault for Address 80849000, PdeAddress = C0300808 (1), PteAddress = C0202124
Pagefault for Address 8084A000, PdeAddress = C0300808 (1), PteAddress = C0202128
Pagefault for Address 8084B000, PdeAddress = C0300808 (1), PteAddress = C020212C
Pagefault for Address 8084C000, PdeAddress = C0300808 (1), PteAddress = C0202130
Pagefault for Address 8084D000, PdeAddress = C0300808 (1), PteAddress = C0202134
Pagefault for Address 8084E000, PdeAddress = C0300808 (1), PteAddress = C0202138
Pagefault for Address 8084F000, PdeAddress = C0300808 (1), PteAddress = C020213C
Pagefault for Address 80850000, PdeAddress = C0300808 (1), PteAddress = C0202140
Pagefault for Address 80851000, PdeAddress = C0300808 (1), PteAddress = C0202144
Pagefault for Address 80852000, PdeAddress = C0300808 (1), PteAddress = C0202148
Pagefault for Address 80853000, PdeAddress = C0300808 (1), PteAddress = C020214C
Pagefault for Address 80854000, PdeAddress = C0300808 (1), PteAddress = C0202150
Pagefault for Address 80855000, PdeAddress = C0300808 (1), PteAddress = C0202154
Pagefault for Address 00010000, PdeAddress = C0300000 (1), PteAddress = C0000040
Pagefault for Address 00011000, PdeAddress = C0300000 (1), PteAddress = C0000044
Pagefault for Address 00012000, PdeAddress = C0300000 (1), PteAddress = C0000048
Pagefault for Address 00013000, PdeAddress = C0300000 (1), PteAddress = C000004C
Pagefault for Address 00014000, PdeAddress = C0300000 (1), PteAddress = C0000050
Pagefault for Address 00015000, PdeAddress = C0300000 (1), PteAddress = C0000054
Pagefault for Address 00016000, PdeAddress = C0300000 (1), PteAddress = C0000058
Pagefault for Address 00017000, PdeAddress = C0300000 (1), PteAddress = C000005C
Pagefault for Address 00018000, PdeAddress = C0300000 (1), PteAddress = C0000060
Pagefault for Address 00019000, PdeAddress = C0300000 (1), PteAddress = C0000064
Pagefault for Address 0001A000, PdeAddress = C0300000 (1), PteAddress = C0000068
Pagefault for Address 0001B000, PdeAddress = C0300000 (1), PteAddress = C000006C
Pagefault for Address 0001C000, PdeAddress = C0300000 (1), PteAddress = C0000070
Pagefault for Address 0001D000, PdeAddress = C0300000 (1), PteAddress = C0000074
Pagefault for Address 0001E000, PdeAddress = C0300000 (1), PteAddress = C0000078
Pagefault for Address 0001F000, PdeAddress = C0300000 (1), PteAddress = C000007C
Pagefault for Address 00020000, PdeAddress = C0300000 (1), PteAddress = C0000080
Pagefault for Address 00021000, PdeAddress = C0300000 (1), PteAddress = C0000084
Pagefault for Address 00022000, PdeAddress = C0300000 (1), PteAddress = C0000088
Pagefault for Address 00023000, PdeAddress = C0300000 (1), PteAddress = C000008C
Pagefault for Address 00024000, PdeAddress = C0300000 (1), PteAddress = C0000090
Pagefault for Address 00025000, PdeAddress = C0300000 (1), PteAddress = C0000094
Pagefault for Address 00026000, PdeAddress = C0300000 (1), PteAddress = C0000098
Pagefault for Address 00027000, PdeAddress = C0300000 (1), PteAddress = C000009C
Pagefault for Address 00028000, PdeAddress = C0300000 (1), PteAddress = C00000A0
Pagefault for Address 00029000, PdeAddress = C0300000 (1), PteAddress = C00000A4
Pagefault for Address 0002A000, PdeAddress = C0300000 (1), PteAddress = C00000A8
Pagefault for Address 0002B000, PdeAddress = C0300000 (1), PteAddress = C00000AC
Pagefault for Address 0002C000, PdeAddress = C0300000 (1), PteAddress = C00000B0
Pagefault for Address 0002D000, PdeAddress = C0300000 (1), PteAddress = C00000B4
Pagefault for Address 0002E000, PdeAddress = C0300000 (1), PteAddress = C00000B8
Pagefault for Address 0002F000, PdeAddress = C0300000 (1), PteAddress = C00000BC
Pagefault for Address 00030000, PdeAddress = C0300000 (1), PteAddress = C00000C0
Pagefault for Address 00031000, PdeAddress = C0300000 (1), PteAddress = C00000C4
Pagefault for Address 00032000, PdeAddress = C0300000 (1), PteAddress = C00000C8
Pagefault for Address 00033000, PdeAddress = C0300000 (1), PteAddress = C00000CC
CcInitializeCacheManager stub
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\config\cmhvlist.c:158) CmpAddToHiveFileList: Creation or opening of the hive list failed, status = c0000034
CcPfInitializePrefetcher stub
(C:\Dev\ReactOS\Mm-Rewrite\src\hal\halx86\legacy\bussupp.c:623) Found parent bus (indicating PCI Bridge). PCI devices may fail!

====== PCI BUS HARDWARE DETECTION =======

00:00.0 Host bridge [0600]: Intel Corporation 440FX - 82441FX PMC [Natoma] [8086:1237] (rev 02)
	Subsystem: Unknown [0000:0000]
	Flags: fast devsel, latency 0

00:01.0 ISA bridge [0601]: Intel Corporation 82371SB PIIX3 ISA [Natoma/Triton II] [8086:7000] (rev 00)
	Subsystem: Unknown [0000:0000]
	Flags: bus master, medium devsel, latency 0

00:01.1 IDE interface [0101]: Intel Corporation 82371AB/EB/MB PIIX4 IDE [8086:7111] (rev 01)
	Subsystem: Unknown [0000:0000]
	Flags: bus master, fast devsel, latency 0
	I/O ports at d000 [size=4K]

00:02.0 VGA compatible controller [0300]: InnoTek Systemberatung GmbH VirtualBox Graphics Adapter [80ee:beef] (rev 00)
	Subsystem: Unknown [0000:0000]
	Flags: bus master, fast devsel, latency 0, IRQ 11
	Memory at e0000000 (32-bit, prefetchable) [size=512M]
	Device is using IRQ 11! ISA Cards using that IRQ may fail!

00:03.0 Ethernet controller [0200]: Advanced Micro Devices [AMD] 79c970 [PCnet32 LANCE] [1022:2000] (rev 40)
	Subsystem: PCnet - Fast 79C971 [1022:2000]
	Flags: bus master, medium devsel, latency 0, IRQ 10
	I/O ports at d020 [size=32]
	Memory at f0000000 (32-bit, non-prefetchable) [size=256M]
	Memory at f0080000 (32-bit, non-prefetchable) [size=512K]
	Device is using IRQ 10! ISA Cards using that IRQ may fail!

00:04.0 System peripheral [0880]: InnoTek Systemberatung GmbH VirtualBox Guest Service [80ee:cafe] (rev 00)
	Subsystem: Unknown [0000:0000]
	Flags: bus master, fast devsel, latency 0, IRQ 09
	I/O ports at d040 [size=64]
	Memory at f0400000 (32-bit, non-prefetchable) [size=4M]
	Memory at f0800000 (32-bit, prefetchable) [size=8M]
	Device is using IRQ 9! ISA Cards using that IRQ may fail!

00:05.0 Multimedia audio controller [0401]: Intel Corporation 82801AA AC'97 Audio Controller [8086:2415] (rev 01)
	Subsystem: Terminator 2x/i [8086:0000]
	Flags: bus master, medium devsel, latency 0, IRQ 05
	I/O ports at d100 [size=256]
	I/O ports at d200 [size=512]
	Device is using IRQ 5! ISA Cards using that IRQ may fail!

00:07.0 Secondary bus towards host CPU [0680]: Intel Corporation 82371AB/EB/MB PIIX4 ACPI [8086:7113] (rev 08)
	Subsystem: Unknown [0000:0000]
	Flags: bus master, medium devsel, latency 0, IRQ 09
	Device is using IRQ 9! ISA Cards using that IRQ may fail!

====== PCI BUS DETECTION COMPLETE =======

PC Compatible Eisa/Isa HAL Detected
--------------------------- IoInitSystem --------------------------------------
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\pnpmgr\pnpinit.c:435) Need to build DACL
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\pnpmgr\pnpmgr.c:3185) ZwOpenKey(\Registry\Machine\SYSTEM\CURRENTCONTROLSET\Control\Pnp) failed with status 0xc0000034
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\pnpmgr\pnpmgr.c:3188) Firmware mapper is enabled
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\pnpmgr\pnpreport.c:353) Reported device: DETECTEDInternal\PCI_HAL (Root\PCI_HAL\0)
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
(C:\Dev\ReactOS\Mm-Rewrite\src\hal\halx86\legacy\bussupp.c:1159) Slot assignment for 5 on bus 0
(C:\Dev\ReactOS\Mm-Rewrite\src\hal\halx86\legacy\bus\pcibus.c:715) WARNING: PCI Slot Resource Assignment is FOOBAR
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\iomgr\iorsrce.c:874) IoReportResourceUsage is halfplemented!
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\iomgr\iorsrce.c:874) IoReportResourceUsage is halfplemented!
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmFreeDriverInitialization stub
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\iomgr\driver.c:1582) '\Driver\buslogic' initialization failed, status (0xc00000c0)
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\iomgr\driver.c:61) Deleting driver object '\Driver\buslogic'
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
--------- This --------- Buffer = B0185008
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
--------- This --------- Buffer = B01826B0
MmUnlockPages stub
MmUnlockPages stub
MmFreeDriverInitialization stub
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\iomgr\driver.c:1582) '\Driver\floppy' initialization failed, status (0xc000000e)
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\iomgr\driver.c:61) Deleting driver object '\Driver\floppy'
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmFreeDriverInitialization stub
MmUnlockPages stub
MmUnlockPages stub
--------- This --------- Buffer = B018E580
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
--------- This --------- Buffer = B018E558
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\iomgr\arcname.c:386) Boot device found
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\iomgr\file.c:438) Using IopParseDevice() hack. Requested invalid attributes: 1
(C:\Dev\ReactOS\Mm-Rewrite\src\ntoskrnl\io\iomgr\file.c:438) Using IopParseDevice() hack. Requested invalid attributes: 1
MmUnlockPages stub
--------- This --------- Buffer = B018E810
MmUnlockPages stub
MmUnlockPages stub
--------- This --------- Buffer = B0195E00
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
MmUnlockPages stub
Break instruction exception - code 80000003 (first chance)
Received Unhandled API 315f
nt!CcInitializeCacheMap+0x3:
80494e53 cc              int     3
kd> p
Received Unhandled API 315f
nt!CcInitializeCacheMap+0x4:
80494e54 5d              pop     ebp
kd> p
Received Unhandled API 315f
cdfs!CdfsMountVolume+0x3a3:
803a4543 8b4dfc          mov     ecx,dword ptr [ebp-4]
kd> g @@masm(`cdfs!c:\dev\reactos\mm-rewrite\src\drivers\filesystems\cdfs\fsctl.c:449+`)
Received Unhandled API 315f
cdfs!CdfsMountVolume+0x442:
803a45e2 8b45f0          mov     eax,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
cdfs!CdfsMountVolume+0x445:
803a45e5 8be5            mov     esp,ebp
kd> p
Received Unhandled API 315f
cdfs!CdfsFileSystemControl+0xee:
803a393e 83c408          add     esp,8
kd> p
Received Unhandled API 315f
cdfs!CdfsFileSystemControl+0xf4:
803a3944 e990000000      jmp     cdfs!CdfsFileSystemControl+0x189 (803a39d9)
kd> p
Received Unhandled API 315f
cdfs!CdfsFileSystemControl+0x189:
803a39d9 8b4d0c          mov     ecx,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
cdfs!CdfsFileSystemControl+0x192:
803a39e2 8b450c          mov     eax,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
cdfs!CdfsFileSystemControl+0x19c:
803a39ec 32d2            xor     dl,dl
kd> p
Received Unhandled API 315f
cdfs!CdfsFileSystemControl+0x1a7:
803a39f7 8b45fc          mov     eax,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
cdfs!CdfsFileSystemControl+0x1aa:
803a39fa 8be5            mov     esp,ebp
kd> p
Received Unhandled API 315f
nt!IofCallDriver+0xa9:
80460589 8be5            mov     esp,ebp
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x2fe:
80465bde 8945f8          mov     dword ptr [ebp-8],eax
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x301:
80465be1 817df803010000  cmp     dword ptr [ebp-8],103h
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x321:
80465c01 6a01            push    1
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x32d:
80465c0d 8b5508          mov     edx,dword ptr [ebp+8]
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x33d:
80465c1d 837df800        cmp     dword ptr [ebp-8],0
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x343:
80465c23 8b5508          mov     edx,dword ptr [ebp+8]
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x363:
80465c43 e9af020000      jmp     nt!IopMountVolume+0x617 (80465ef7)
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x617:
80465ef7 8b4df0          mov     ecx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x61f:
80465eff e98cfbffff      jmp     nt!IopMountVolume+0x1b0 (80465a90)
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x1b0:
80465a90 8b55f0          mov     edx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x624:
80465f04 837df800        cmp     dword ptr [ebp-8],0
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x632:
80465f12 eb1f            jmp     nt!IopMountVolume+0x653 (80465f33)
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x653:
80465f33 b9001d5a80      mov     ecx,offset nt!IopDatabaseResource (805a1d00)
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x65d:
80465f3d e8fee9f9ff      call    nt!_KeGetCurrentThread (80404940)
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x712:
80465ff2 0fb64d10        movzx   ecx,byte ptr [ebp+10h]
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x72d:
8046600d 837df800        cmp     dword ptr [ebp-8],0
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x75d:
8046603d 8b45f8          mov     eax,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!IopMountVolume+0x760:
80466040 8be5            mov     esp,ebp
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0x92:
80465842 8b4d14          mov     ecx,dword ptr [ebp+14h]
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0x97:
80465847 8b5514          mov     edx,dword ptr [ebp+14h]
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0xd9:
80465889 8d55ff          lea     edx,[ebp-1]
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0xe2:
80465892 e979ffffff      jmp     nt!IopCheckVpbMounted+0x60 (80465810)
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0x60:
80465810 8b550c          mov     edx,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0xe7:
80465897 8b450c          mov     eax,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0xf0:
804658a0 8b55f8          mov     edx,dword ptr [ebp-8]
kd> k
ChildEBP RetAddr
ffb7f754 804562b6 nt!IopCheckVpbMounted+0xf0 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\volume.c @ 133]
ffb7f810 8049e124 nt!IopParseDevice+0x566 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\file.c @ 471]
ffb7f89c 80496b05 nt!ObpLookupObjectName+0x834 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ob\obname.c @ 786]
ffb7f8f4 804547e8 nt!ObOpenObjectByName+0x195 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ob\obhandle.c @ 2514]
ffb7f9e0 80455050 nt!IoCreateFile+0x438 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\file.c @ 1872]
ffb7fa20 804c7509 nt!NtOpenFile+0x30 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\file.c @ 2824]
ffb7fa48 804c74b3 nt!KiSystemCallTrampoline+0x19 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\include\internal\i386\ke.h @ 684]
ffb7fa80 804c6e99 nt!KiSystemCall+0x213 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ke\i386\traphdlr.c @ 1626]
ffb7fa98 80403c96 nt!KiSystemServiceHandler+0x19 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ke\i386\traphdlr.c @ 1650]
ffb7fa98 80401995 nt!KiInterruptTemplateDispatch+0x60
ffb7fb10 804a9547 nt!ZwOpenFile+0x11
ffb7fb64 804f7c6d nt!PsLocateSystemDll+0x47 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ps\psmgr.c @ 301]
ffb7fc88 804288a6 nt!IoInitSystem+0x47d [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\iomgr.c @ 596]
ffb7fd80 8042665c nt!Phase1InitializationDiscard+0x966 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ex\init.c @ 1798]
ffb7fd8c 804b101f nt!Phase1Initialization+0xc [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ex\init.c @ 2012]
ffb7fdc0 804c4da0 nt!PspSystemThreadStartup+0x7f [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ps\thread.c @ 158]
ffb7fddc 804b0f9f nt!KiThreadStartup+0x40 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ke\i386\thrdini.c @ 81]
ffb7fde0 8042664f nt!NtOpenThread+0x36f
ffb7fde4 8009a000 nt!RtlStringCbPrintfExA+0x8f
WARNING: Frame IP not in any known module. Following frames may be wrong.
ffb7fde8 00000000 0x8009a000
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0x10e:
804658be 8b55f8          mov     edx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0x11d:
804658cd 0fb655ff        movzx   edx,byte ptr [ebp-1]
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0x127:
804658d7 8b45f8          mov     eax,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!IopCheckVpbMounted+0x12a:
804658da 8be5            mov     esp,ebp
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x566:
804562b6 8945e4          mov     dword ptr [ebp-1Ch],eax
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x569:
804562b9 837de400        cmp     dword ptr [ebp-1Ch],0
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x577:
804562c7 8b45e4          mov     eax,dword ptr [ebp-1Ch]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x580:
804562d0 8b55d0          mov     edx,dword ptr [ebp-30h]
kd> !pcr
KPCR for Processor 0 at ffdff000:
    Major 1 Minor 1
	NtTib.ExceptionList: ffb7f630
	    NtTib.StackBase: 00000000
	   NtTib.StackLimit: 00000000
	 NtTib.SubSystemTib: 8009d000
	      NtTib.Version: 0000003a
	  NtTib.UserPointer: 00000001
	      NtTib.SelfTib: 00000000

	            SelfPcr: ffdff000
	               Prcb: ffdff120
	               Irql: 00000000
	                IRR: 00000000
	                IDR: ffff3efa
	      InterruptMode: 00000000
	                IDT: 803fb400
	                GDT: 803fb000
	                TSS: 8009d000

	      CurrentThread: 00000000
	         NextThread: 00000000
	         IdleThread: 00000000

	          DpcQueue:
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x595:
804562e5 8b4dd0          mov     ecx,dword ptr [ebp-30h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x5d3:
80456323 6a01            push    1
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x5e5:
80456335 837df000        cmp     dword ptr [ebp-10h],0
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x60f:
8045635f 8b4df0          mov     ecx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x618:
80456368 8b45f0          mov     eax,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x622:
80456372 e8391dfbff      call    nt!PsGetCurrentThread (804080b0)
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x62d:
8045637d 8b55f0          mov     edx,dword ptr [ebp-10h]
kd> g @@masm(`nt!c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\file.c:527+`)
Received Unhandled API 315f
nt!IopParseDevice+0x6a9:
804563f9 8b45fc          mov     eax,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x6c6:
80456416 8b55d8          mov     edx,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x6cc:
8045641c 8b45d8          mov     eax,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x6d8:
80456428 8b45d8          mov     eax,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x6e4:
80456434 8b4518          mov     eax,dword ptr [ebp+18h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x70c:
8045645c eb26            jmp     nt!IopParseDevice+0x734 (80456484)
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x734:
80456484 8b45fc          mov     eax,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x746:
80456496 8b4df0          mov     ecx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x752:
804564a2 8b4dfc          mov     ecx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x76f:
804564bf 8b4dd8          mov     ecx,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x77d:
804564cd 8b4dd8          mov     ecx,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x78b:
804564db 8b4dd8          mov     ecx,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x797:
804564e7 0fb645f6        movzx   eax,byte ptr [ebp-0Ah]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x7a3:
804564f3 c7855cffffff18000000 mov dword ptr [ebp-0A4h],18h
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x7de:
8045652e 8d55f8          lea     edx,[ebp-8]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x80a:
8045655a 837dec00        cmp     dword ptr [ebp-14h],0
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x844:
80456594 6880000000      push    80h
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x857:
804565a7 8b45fc          mov     eax,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x88b:
804565db 8b4df8          mov     ecx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x8a6:
804565f6 8b4dfc          mov     ecx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x8c0:
80456610 8b45fc          mov     eax,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x8da:
8045662a 8b55fc          mov     edx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x8f4:
80456644 8b4dfc          mov     ecx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x914:
80456664 eb3a            jmp     nt!IopParseDevice+0x950 (804566a0)
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x950:
804566a0 b905000000      mov     ecx,5
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x95b:
804566ab b880000000      mov     eax,80h
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x967:
804566b7 8b55f8          mov     edx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x973:
804566c3 8b55f8          mov     edx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x97c:
804566cc 0fb64dea        movzx   ecx,byte ptr [ebp-16h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x995:
804566e5 8b5518          mov     edx,dword ptr [ebp+18h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x9af:
804566ff 8b45f0          mov     eax,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x9b8:
80456708 8b55d8          mov     edx,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x9c1:
80456711 8b4d20          mov     ecx,dword ptr [ebp+20h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x9cb:
8045671b 8b4520          mov     eax,dword ptr [ebp+20h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x9db:
8045672b 68496f4e6d      push    6D4E6F49h
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0x9f5:
80456745 8b45f8          mov     eax,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0xa45:
80456795 8b4520          mov     eax,dword ptr [ebp+20h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0xa55:
804567a5 6a00            push    0
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0xa65:
804567b5 8b45fc          mov     eax,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0xa6e:
804567be 8b55f0          mov     edx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
nt!IopParseDevice+0xa7a:
804567ca 8b55f0          mov     edx,dword ptr [ebp-10h]
kd> t
Received Unhandled API 315f
nt!IofCallDriver:
804604e0 55              push    ebp
kd> g @@masm(`nt!c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\irp.c:1203+`)
Received Unhandled API 315f
nt!IofCallDriver+0x92:
80460572 8b45fc          mov     eax,dword ptr [ebp-4]
kd> t
Received Unhandled API 315f
cdfs!CdfsCreate:
8039fc00 55              push    ebp
kd> l
    ^ Syntax error in 'l'
kd> k
ChildEBP RetAddr
ffb7f740 80460589 cdfs!CdfsCreate [c:\dev\reactos\mm-rewrite\src\drivers\filesystems\cdfs\create.c @ 264]
ffb7f764 804567d5 nt!IofCallDriver+0xa9 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\irp.c @ 1205]
ffb7f810 8049e124 nt!IopParseDevice+0xa85 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\file.c @ 728]
ffb7f89c 80496b05 nt!ObpLookupObjectName+0x834 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ob\obname.c @ 786]
ffb7f8f4 804547e8 nt!ObOpenObjectByName+0x195 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ob\obhandle.c @ 2514]
ffb7f9e0 80455050 nt!IoCreateFile+0x438 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\file.c @ 1872]
ffb7fa20 804c7509 nt!NtOpenFile+0x30 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\file.c @ 2824]
ffb7fa48 804c74b3 nt!KiSystemCallTrampoline+0x19 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\include\internal\i386\ke.h @ 684]
ffb7fa80 804c6e99 nt!KiSystemCall+0x213 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ke\i386\traphdlr.c @ 1626]
ffb7fa98 80403c96 nt!KiSystemServiceHandler+0x19 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ke\i386\traphdlr.c @ 1650]
ffb7fa98 80401995 nt!KiInterruptTemplateDispatch+0x60
ffb7fb10 804a9547 nt!ZwOpenFile+0x11
ffb7fb64 804f7c6d nt!PsLocateSystemDll+0x47 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ps\psmgr.c @ 301]
ffb7fc88 804288a6 nt!IoInitSystem+0x47d [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\iomgr.c @ 596]
ffb7fd80 8042665c nt!Phase1InitializationDiscard+0x966 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ex\init.c @ 1798]
ffb7fd8c 804b101f nt!Phase1Initialization+0xc [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ex\init.c @ 2012]
ffb7fdc0 804c4da0 nt!PspSystemThreadStartup+0x7f [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ps\thread.c @ 158]
ffb7fddc 804b0f9f nt!KiThreadStartup+0x40 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ke\i386\thrdini.c @ 81]
ffb7fde0 8042664f nt!NtOpenThread+0x36f
ffb7fde4 8009a000 nt!RtlStringCbPrintfExA+0x8f
WARNING: Frame IP not in any known module. Following frames may be wrong.
ffb7fde8 00000000 0x8009a000
kd> p
Received Unhandled API 315f
cdfs!CdfsCreate+0x6:
8039fc06 a1209c3a80      mov     eax,dword ptr [cdfs!CdfsGlobalData (803a9c20)]
kd> bl
 0 e 8033ffa0 [c:\dev\reactos\mm-rewrite\src\drivers\storage\ide\uniata\id_ata.cpp @ 8603]    0001 (0001) uniata!AtapiStartIo__
 2 e 805cf890 [c:\dev\reactos\mm-rewrite\src\hal\halx86\up\pic.c @ 1294]    0001 (0001) hal!HalpApcInterruptHandler

kd> bc 0
kd> bc 1
kd> bl
 2 e 805cf890 [c:\dev\reactos\mm-rewrite\src\hal\halx86\up\pic.c @ 1294]    0001 (0001) hal!HalpApcInterruptHandler

kd> bc 2
kd> bl

kd> p
Received Unhandled API 315f
cdfs!CdfsCreate+0x3b:
8039fc3b 8b5508          mov     edx,dword ptr [ebp+8]
kd> p
Received Unhandled API 315f
cdfs!CdfsCreate+0x44:
8039fc44 ff151c603a80    call    dword ptr [cdfs!_imp__KeEnterCriticalRegion (803a601c)]
kd> p
Received Unhandled API 315f
cdfs!CdfsCreate+0x4a:
8039fc4a 6a01            push    1
kd> p
Received Unhandled API 315f
cdfs!CdfsCreate+0x59:
8039fc59 8b550c          mov     edx,dword ptr [ebp+0Ch]
kd> t
Received Unhandled API 315f
cdfs!CdfsCreateFile:
803a0070 55              push    ebp
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0x6:
803a0076 33c0            xor     eax,eax
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0x1b:
803a008b 8b5508          mov     edx,dword ptr [ebp+8]
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0x24:
803a0094 837df000        cmp     dword ptr [ebp-10h],0
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0x51:
803a00c1 8b4d0c          mov     ecx,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0x60:
803a00d0 837df800        cmp     dword ptr [ebp-8],0
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0x8d:
803a00fd 8b55f8          mov     edx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0x9e:
803a010e 8b4df8          mov     ecx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0xad:
803a011d 33c0            xor     eax,eax
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0xca:
803a013a 8b4df8          mov     ecx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0xd3:
803a0143 837df402        cmp     dword ptr [ebp-0Ch],2
kd> p
Received Unhandled API 315f
cdfs!CdfsCreateFile+0xef:
803a015f 8b45fc          mov     eax,dword ptr [ebp-4]
kd> t
Received Unhandled API 315f
cdfs!CdfsOpenFile:
8039fe30 55              push    ebp
kd> p
Received Unhandled API 315f
cdfs!CdfsOpenFile+0x6:
8039fe36 33c0            xor     eax,eax
kd> p
Received Unhandled API 315f
cdfs!CdfsOpenFile+0x27:
8039fe57 8b550c          mov     edx,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
cdfs!CdfsOpenFile+0x73:
8039fea3 6a00            push    0
kd> t
Received Unhandled API 315f
cdfs!CdfsDeviceIoControl:
8039f8b0 55              push    ebp
kd> p
Received Unhandled API 315f
cdfs!CdfsDeviceIoControl+0x6:
8039f8b6 c645ff00        mov     byte ptr [ebp-1],0
kd> p
Received Unhandled API 315f
cdfs!CdfsDeviceIoControl+0xa:
8039f8ba 33c0            xor     eax,eax
kd> p
Received Unhandled API 315f
cdfs!CdfsDeviceIoControl+0x52:
8039f902 6a00            push    0
kd> p
Received Unhandled API 315f
cdfs!CdfsDeviceIoControl+0x60:
8039f910 33c0            xor     eax,eax
kd> p
Received Unhandled API 315f
cdfs!CdfsDeviceIoControl+0x75:
8039f925 837d1c00        cmp     dword ptr [ebp+1Ch],0
kd> p
Received Unhandled API 315f
cdfs!CdfsDeviceIoControl+0xb7:
8039f967 837df400        cmp     dword ptr [ebp-0Ch],0
kd> p
Received Unhandled API 315f
cdfs!CdfsDeviceIoControl+0xdc:
8039f98c 0fb65520        movzx   edx,byte ptr [ebp+20h]
kd> p
Received Unhandled API 315f
cdfs!CdfsDeviceIoControl+0x103:
8039f9b3 33c9            xor     ecx,ecx
kd> p
Received Unhandled API 315f
cdfs!CdfsDeviceIoControl+0x11c:
8039f9cc 8b55f4          mov     edx,dword ptr [ebp-0Ch]
kd> t
Received Unhandled API 315f
nt!IofCallDriver:
804604e0 55              push    ebp
kd> g @@masm(`nt!c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\irp.c:1203+`)
Received Unhandled API 315f
nt!IofCallDriver+0x92:
80460572 8b45fc          mov     eax,dword ptr [ebp-4]
kd> t
Received Unhandled API 315f
class2!ScsiClassDeviceControlDispatch:
803bfcb0 55              push    ebp
kd> p
Received Unhandled API 315f
class2!ScsiClassDeviceControlDispatch+0x6:
803bfcb6 8b4508          mov     eax,dword ptr [ebp+8]
kd> p
Received Unhandled API 315f
class2!ScsiClassDeviceControlDispatch+0xf:
803bfcbf 8b55fc          mov     edx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
class2!ScsiClassDeviceControlDispatch+0x3f:
803bfcef 8b450c          mov     eax,dword ptr [ebp+0Ch]
kd> t
Received Unhandled API 315f
cdrom!CdRomDeviceControl:
803ae000 55              push    ebp
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0xb:
803ae00b 8b450c          mov     eax,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x1a:
803ae01a 8b4d08          mov     ecx,dword ptr [ebp+8]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x23:
803ae023 8b45cc          mov     eax,dword ptr [ebp-34h]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x2e:
803ae02e 6a40            push    40h
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x41:
803ae041 8b550c          mov     edx,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x4b:
803ae04b 8b45f8          mov     eax,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x54:
803ae054 8b55f0          mov     edx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x5d:
803ae05d 8b45f0          mov     eax,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x6b:
803ae06b 8b4dd8          mov     ecx,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x86:
803ae086 817dd800020000  cmp     dword ptr [ebp-28h],200h
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x98:
803ae098 8b4df0          mov     ecx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0xaa:
803ae0aa 8b55f0          mov     edx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0xbd:
803ae0bd 8b45f8          mov     eax,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0xc6:
803ae0c6 8b55f0          mov     edx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x5c2:
803ae5c2 8b450c          mov     eax,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x5d5:
803ae5d5 8b4d0c          mov     ecx,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x5e1:
803ae5e1 8b55f8          mov     edx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
cdrom!CdRomDeviceControl+0x60e:
803ae60e 6a00            push    0
kd> t
Received Unhandled API 315f
nt!IoStartPacket:
8044dae0 55              push    ebp
kd> g @@masm(`nt!c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\device.c:1648+`)
Received Unhandled API 315f
nt!IoStartPacket+0x61:
8044db41 0fb645fe        movzx   eax,byte ptr [ebp-2]
kd> p
Received Unhandled API 315f
nt!IoStartPacket+0x69:
8044db49 8b4d08          mov     ecx,dword ptr [ebp+8]
kd> p
Received Unhandled API 315f
nt!IoStartPacket+0x72:
8044db52 837d1400        cmp     dword ptr [ebp+14h],0
kd> p
Received Unhandled API 315f
nt!IoStartPacket+0xa0:
8044db80 8b550c          mov     edx,dword ptr [ebp+0Ch]
kd> t
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo:
803b03c0 55              push    ebp
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x9:
803b03c9 8b4508          mov     eax,dword ptr [ebp+8]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x12:
803b03d2 8b550c          mov     edx,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x21:
803b03e1 8b450c          mov     eax,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x30:
803b03f0 c745f400000000  mov     dword ptr [ebp-0Ch],0
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x37:
803b03f7 8b4dd8          mov     ecx,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x40:
803b0400 8b45f0          mov     eax,dword ptr [ebp-10h]
kd> g @@masm(`cdrom!c:\dev\reactos\mm-rewrite\src\drivers\storage\class\cdrom\cdrom.c:1393+`)
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x66:
803b0426 8b4d08          mov     ecx,dword ptr [ebp+8]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x136:
803b04f6 8b4df0          mov     ecx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x142:
803b0502 8b55dc          mov     edx,dword ptr [ebp-24h]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x14f:
803b050f 8b4dd8          mov     ecx,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x6d9:
803b0a99 8b4dd8          mov     ecx,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x6e8:
803b0aa8 6a00            push    0
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x700:
803b0ac0 837df400        cmp     dword ptr [ebp-0Ch],0
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x755:
803b0b15 6853637343      push    43736353h
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x767:
803b0b27 837dfc00        cmp     dword ptr [ebp-4],0
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x7c6:
803b0b86 6a40            push    40h
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x7d6:
803b0b96 8b55fc          mov     edx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x7df:
803b0b9f 6853637343      push    43736353h
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x7f1:
803b0bb1 837de000        cmp     dword ptr [ebp-20h],0
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x85a:
803b0c1a 8b55f4          mov     edx,dword ptr [ebp-0Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x866:
803b0c26 8b45f4          mov     eax,dword ptr [ebp-0Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x870:
803b0c30 8b4df4          mov     ecx,dword ptr [ebp-0Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x87a:
803b0c3a 8b55f4          mov     edx,dword ptr [ebp-0Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x884:
803b0c44 8b45f4          mov     eax,dword ptr [ebp-0Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x88e:
803b0c4e 8b4df4          mov     ecx,dword ptr [ebp-0Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x89d:
803b0c5d 8b55d0          mov     edx,dword ptr [ebp-30h]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x8a8:
803b0c68 8b55d0          mov     edx,dword ptr [ebp-30h]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x8b1:
803b0c71 8b4dd4          mov     ecx,dword ptr [ebp-2Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x8ba:
803b0c7a 8b55d4          mov     edx,dword ptr [ebp-2Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x8c4:
803b0c84 8b45f4          mov     eax,dword ptr [ebp-0Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x8d3:
803b0c93 8b4dd0          mov     ecx,dword ptr [ebp-30h]
kd> g @@masm(`cdrom!c:\dev\reactos\mm-rewrite\src\drivers\storage\class\cdrom\cdrom.c:1801+`)
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x9a5:
803b0d65 8b45d8          mov     eax,dword ptr [ebp-28h]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x1472:
803b1832 8b55dc          mov     edx,dword ptr [ebp-24h]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x1479:
803b1839 8b45fc          mov     eax,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x1480:
803b1840 8b4df8          mov     ecx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x1486:
803b1846 8b55f0          mov     edx,dword ptr [ebp-10h]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x1494:
803b1854 8b55fc          mov     edx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x14a0:
803b1860 8b55fc          mov     edx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x14af:
803b186f 8b55f4          mov     edx,dword ptr [ebp-0Ch]
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x14c6:
803b1886 8b55f4          mov     edx,dword ptr [ebp-0Ch]
kd> t
Received Unhandled API 315f
nt!IofCallDriver:
804604e0 55              push    ebp
kd> p
Received Unhandled API 315f
nt!IofCallDriver+0xc:
804604ec 8b45fc          mov     eax,dword ptr [ebp-4]
kd> g @@masm(`nt!c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\irp.c:1202+`)
Received Unhandled API 315f
nt!IofCallDriver+0x92:
80460572 8b45fc          mov     eax,dword ptr [ebp-4]
kd> t
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi:
8037b480 55              push    ebp
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x6:
8037b486 c745f400000000  mov     dword ptr [ebp-0Ch],0
kd> g @@masm(`scsiport!c:\dev\reactos\mm-rewrite\src\drivers\storage\scsiport\scsiport.c:2589+`)
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x117:
8037b597 8b4df8          mov     ecx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x13e:
8037b5be 837df000        cmp     dword ptr [ebp-10h],0
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x18d:
8037b60d 8b55f8          mov     edx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x1f8:
8037b678 33c0            xor     eax,eax
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x20d:
8037b68d 8b550c          mov     edx,dword ptr [ebp+0Ch]
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x219:
8037b699 8b45f8          mov     eax,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x238:
8037b6b8 b102            mov     cl,2
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x243:
8037b6c3 8b4df8          mov     ecx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x265:
8037b6e5 6a00            push    0
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x277:
8037b6f7 8a4dfe          mov     cl,byte ptr [ebp-2]
kd> !pcr
KPCR for Processor 0 at ffdff000:
    Major 1 Minor 1
	NtTib.ExceptionList: ffb7f354
	    NtTib.StackBase: 00000000
	   NtTib.StackLimit: 00000000
	 NtTib.SubSystemTib: 8009d000
	      NtTib.Version: 0000003a
	  NtTib.UserPointer: 00000001
	      NtTib.SelfTib: 00000000

	            SelfPcr: ffdff000
	               Prcb: ffdff120
	               Irql: 00000002
	                IRR: 00000004
	                IDR: ffff3efa
	      InterruptMode: 00000000
	                IDT: 803fb400
	                GDT: 803fb000
	                TSS: 8009d000

	      CurrentThread: 00000000
	         NextThread: 00000000
	         IdleThread: 00000000

	          DpcQueue:
kd> bp KiDispatchInterrupt
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x280:
8037b700 b803010000      mov     eax,103h
kd> p
Received Unhandled API 315f
scsiport!ScsiPortDispatchScsi+0x54b:
8037b9cb 8be5            mov     esp,ebp
kd> p
Received Unhandled API 315f
nt!IofCallDriver+0xa9:
80460589 8be5            mov     esp,ebp
kd> p
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x14d5:
803b1895 e9100a0000      jmp     cdrom!ScsiCdRomStartIo+0x1eea (803b22aa)
kd> !pcr
KPCR for Processor 0 at ffdff000:
    Major 1 Minor 1
	NtTib.ExceptionList: ffb7f3b0
	    NtTib.StackBase: 00000000
	   NtTib.StackLimit: 00000000
	 NtTib.SubSystemTib: 8009d000
	      NtTib.Version: 0000003a
	  NtTib.UserPointer: 00000001
	      NtTib.SelfTib: 00000000

	            SelfPcr: ffdff000
	               Prcb: ffdff120
	               Irql: 00000002
	                IRR: 00000004
	                IDR: ffff3efa
	      InterruptMode: 00000000
	                IDT: 803fb400
	                GDT: 803fb000
	                TSS: 8009d000

	      CurrentThread: 00000000
	         NextThread: 00000000
	         IdleThread: 00000000

	          DpcQueue:
kd> t
Received Unhandled API 315f
cdrom!ScsiCdRomStartIo+0x1eea:
803b22aa 8be5            mov     esp,ebp
kd> t
Received Unhandled API 315f
nt!IoStartPacket+0xb3:
8044db93 eb3b            jmp     nt!IoStartPacket+0xf0 (8044dbd0)
kd> p
Received Unhandled API 315f
nt!IoStartPacket+0xf0:
8044dbd0 8a4dfd          mov     cl,byte ptr [ebp-3]
kd> k
ChildEBP RetAddr
ffb7f584 803ae620 nt!IoStartPacket+0xf0 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\device.c @ 1698]
ffb7f638 803bfcff cdrom!CdRomDeviceControl+0x620 [c:\dev\reactos\mm-rewrite\src\drivers\storage\class\cdrom\cdrom.c @ 4692]
ffb7f650 80460589 class2!ScsiClassDeviceControlDispatch+0x4f [c:\dev\reactos\mm-rewrite\src\drivers\storage\class\class2\class2.c @ 3840]
ffb7f674 8039f9d8 nt!IofCallDriver+0xa9 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\irp.c @ 1205]
ffb7f6b0 8039fec1 cdfs!CdfsDeviceIoControl+0x128 [c:\dev\reactos\mm-rewrite\src\drivers\filesystems\cdfs\common.c @ 190]
ffb7f6e8 803a0173 cdfs!CdfsOpenFile+0x91 [c:\dev\reactos\mm-rewrite\src\drivers\filesystems\cdfs\create.c @ 139]
ffb7f724 8039fc66 cdfs!CdfsCreateFile+0x103 [c:\dev\reactos\mm-rewrite\src\drivers\filesystems\cdfs\create.c @ 231]
ffb7f740 80460589 cdfs!CdfsCreate+0x66 [c:\dev\reactos\mm-rewrite\src\drivers\filesystems\cdfs\create.c @ 283]
ffb7f764 804567d5 nt!IofCallDriver+0xa9 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\irp.c @ 1205]
ffb7f810 8049e124 nt!IopParseDevice+0xa85 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\file.c @ 728]
ffb7f89c 80496b05 nt!ObpLookupObjectName+0x834 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ob\obname.c @ 786]
ffb7f8f4 804547e8 nt!ObOpenObjectByName+0x195 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ob\obhandle.c @ 2514]
ffb7f9e0 80455050 nt!IoCreateFile+0x438 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\file.c @ 1872]
ffb7fa20 804c7509 nt!NtOpenFile+0x30 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\file.c @ 2824]
ffb7fa48 804c74b3 nt!KiSystemCallTrampoline+0x19 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\include\internal\i386\ke.h @ 684]
ffb7fa80 804c6e99 nt!KiSystemCall+0x213 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ke\i386\traphdlr.c @ 1626]
ffb7fa98 80403c96 nt!KiSystemServiceHandler+0x19 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ke\i386\traphdlr.c @ 1650]
ffb7fa98 80401995 nt!KiInterruptTemplateDispatch+0x60
ffb7fb10 804a9547 nt!ZwOpenFile+0x11
ffb7fb64 804f7c6d nt!PsLocateSystemDll+0x47 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ps\psmgr.c @ 301]
ffb7fc88 804288a6 nt!IoInitSystem+0x47d [c:\dev\reactos\mm-rewrite\src\ntoskrnl\io\iomgr\iomgr.c @ 596]
ffb7fd80 8042665c nt!Phase1InitializationDiscard+0x966 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ex\init.c @ 1798]
ffb7fd8c 804b101f nt!Phase1Initialization+0xc [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ex\init.c @ 2012]
ffb7fdc0 804c4da0 nt!PspSystemThreadStartup+0x7f [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ps\thread.c @ 158]
ffb7fddc 804b0f9f nt!KiThreadStartup+0x40 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ke\i386\thrdini.c @ 81]
ffb7fde0 8042664f nt!NtOpenThread+0x36f
ffb7fde4 8009a000 nt!RtlStringCbPrintfExA+0x8f
WARNING: Frame IP not in any known module. Following frames may be wrong.
ffb7fde8 00000000 0x8009a000
kd> p
Breakpoint 0 hit
Received Unhandled API 315f
nt!KiDispatchInterrupt:
804c4c70 55              push    ebp
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x6:
804c4c76 c745f800f0dfff  mov     dword ptr [ebp-8],0FFDFF000h
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0xd:
804c4c7d 8b45f8          mov     eax,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x18:
804c4c88 fa              cli
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x19:
804c4c89 b914000000      mov     ecx,14h
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x46:
804c4cb6 8b55f8          mov     edx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x4e:
804c4cbe 8b4df8          mov     ecx,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x57:
804c4cc7 8b55fc          mov     edx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x68:
804c4cd8 8b45f8          mov     eax,dword ptr [ebp-8]
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x70:
804c4ce0 fb              sti
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x71:
804c4ce1 8b55fc          mov     edx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x7f:
804c4cef 8b4dfc          mov     ecx,dword ptr [ebp-4]
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0x89:
804c4cf9 e8224afbff      call    nt!KiQuantumEnd (80479720)
kd> p
Received Unhandled API 315f
nt!KiDispatchInterrupt+0xe6:
804c4d56 8be5            mov     esp,ebp
kd> p
Received Unhandled API 315f
hal!_HalpDispatchInterruptHandler+0x32:
805cfbe2 fa              cli
kd> p
Received Unhandled API 315f
hal!_HalpDispatchInterruptHandler+0x33:
805cfbe3 8a45ff          mov     al,byte ptr [ebp-1]
kd> p
Received Unhandled API 315f
hal!_HalpDispatchInterruptHandler+0x36:
805cfbe6 8be5            mov     esp,ebp
kd> p
Received Unhandled API 315f
hal!HalpDispatchInterrupt2+0x12:
805cf5e2 8845ff          mov     byte ptr [ebp-1],al
kd> p
Received Unhandled API 315f
hal!HalpDispatchInterrupt2+0x15:
805cf5e5 8b45f4          mov     eax,dword ptr [ebp-0Ch]
kd> !pcr
KPCR for Processor 0 at ffdff000:
    Major 1 Minor 1
	NtTib.ExceptionList: ffb7f408
	    NtTib.StackBase: 00000000
	   NtTib.StackLimit: 00000000
	 NtTib.SubSystemTib: 8009d000
	      NtTib.Version: 0000003a
	  NtTib.UserPointer: 00000001
	      NtTib.SelfTib: 00000000

	            SelfPcr: ffdff000
	               Prcb: ffdff120
	               Irql: 00000002
	                IRR: 00000006
	                IDR: ffff3efa
	      InterruptMode: 00000000
	                IDT: 803fb400
	                GDT: 803fb000
	                TSS: 8009d000

	      CurrentThread: 00000000
	         NextThread: 00000000
	         IdleThread: 00000000

	          DpcQueue:
kd> bl
 0 e 804c4c70 [c:\dev\reactos\mm-rewrite\src\ntoskrnl\ke\i386\thrdini.c @ 453]    0001 (0001) nt!KiDispatchInterrupt

kd> bc 0
kd> p
Received Unhandled API 315f
hal!HalpDispatchInterrupt2+0x1e:
805cf5ee 0fb655ff        movzx   edx,byte ptr [ebp-1]
kd> p
Received Unhandled API 315f
hal!HalpDispatchInterrupt2+0x32:
805cf602 7451            je      hal!HalpDispatchInterrupt2+0x85 (805cf655)
kd> p
Received Unhandled API 315f
hal!HalpDispatchInterrupt2+0x85:
805cf655 8be5            mov     esp,ebp
kd> p
Received Unhandled API 315f
hal!KfLowerIrql+0xa3:
805cec63 8b4de8          mov     ecx,dword ptr [ebp-18h]
kd> p
